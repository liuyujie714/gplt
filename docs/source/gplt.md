# Description

`gplt` is a very convenient python tool for plotting gromacs output file, such as `.xvg`, `.xpm` or convert `.dat` to `.xpm` for visualization. This tool is similar to [DuIvyTools](https://github.com/CharlesHahn/DuIvyTools), and these features could potentially be part of DuIvyTools. However, if time permits, I hope that it can become more powerful than DuIvyTools in the future.



# Installation

* Requirements

  * `Python >= 3.8`
  * `numpy`, `pandas` and `openpyxl`
  
* Install

  The module is installed by `pip` method:

  ```
  pip install numpy matplotlib colorama pandas openpyxl
  pip install gplt -i https://test.pypi.org/simple
  ```

  Please **ALWAYS** install Latest version.

  Update this module if you have installed:
  ```
  pip install gplt --upgrade -i https://test.pypi.org/simple
  ```



# Usage

## General options

Use `-h` to show available options:

```bash
gplt -h
```



## Plot xvg

| gplt -f rdf.xvg                         | gplt -f rdf.xvg -ux angstrom              |
| --------------------------------------- | ----------------------------------------- |
| <img src="_static/rdf.png"  alt="rdf" > | <img src="_static/rdf2.png" alt="rdf2" /> |

Of course support multi-figures:

```
gplt -f rdf1.xvg rdf2.xvg -legend lab1 lab2
```

<img src="_static/rdftwo.png"  alt="FES" width="500"/>



## Plot xpm

| gplt -f gibbs.xpm                      | gplt -f ss.xpm                         |
| -------------------------------------- | -------------------------------------- |
| <img src="_static/FES.png" alt="FES"/> | <img src="_static/ss.png"  alt="ss" /> |





If you provide three files:  `hbond.ndx` and `hbmap.xpm` generated by `gmx hbond` and system `.gro` ,  the program can use `Donor-Acceptor` label (`resname+resid@atomname`) to replace yticks.

```{note}
The ndx file name must be placed before the gro/xpm file
```

```
gplt -f hbond.ndx 1EBZ.gro hbmap.xpm -yaxis 'Hbonds Paris' -title ''
```

<img src="_static/hbpairs.png" alt="hbpairs" width="600"/>

````{note}
You can change some plotting style by [Matplotlib style](https://matplotlib.org/stable/tutorials/introductory/customizing.html#the-matplotlibrc-file). Write a plain text file `style.mplstyle`:
```
axes.labelsize:     8
axes.linewidth:     1
xtick.labelsize:    8
ytick.labelsize:    8
ytick.left:         True
ytick.direction:    in
xtick.bottom:       True
xtick.direction:    in
lines.linewidth:    1.5
legend.fontsize:    8
legend.loc:         best
font.family:        Times New Roman
font.size:          8
```
Then add `-style style.mplstyle` option to gplt command line
````





## Plot dat

The `.dat` file was generated by gromacs tool, such as `densmap.dat`, `dssp.dat` (gmx dssp)

1. `.dat` from `gmx densmap -od`

```
gplt -f densmap.dat && gplt -f densmap.xpm -aspect equal
```

This command will generate a xxx.xpm file, then you can plot it by `gplt -f densmap.xpm`.

`-aspect equal`: Use same scaling from data to plot units for x and y

<img src="_static/densmap.png" alt="image-20250730104824434" style="zoom: 33%;" />

2. `dssp.dat` from `gmx dssp` (gmx >= 2023)

   First, convert `dssp.dat` to `dssp.xpm` and `scount.xvg`:
   
   ```
   gplt -f dssp.dat
   ```
   
   Then plot it:

| gplt -f dssp.xpm -xprec 0 -yprec 0 -o dssp.png | gplt -f scount.xvg -xprec 0 -yprec 0 -o scount.png |
| ---------------------------------------------- | -------------------------------------------------- |
| <img src="_static/dssp.png"  alt="dssp"/>      | <img src="_static/scount.png"   alt="scount" />    |





# Cite
If `gplt` is utilized in your work, please cite as follows in main text:

> Yujie Liu, gplt (v0.1.12). Zenodo. https://doi.org/10.5281/zenodo.13208831
